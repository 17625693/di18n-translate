!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DI18n=t():e.DI18n=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var o=n(1);o.DI18n.Version="0.0.6",e.exports=o.DI18n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DI18n=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),i=o(c),u=n(3),f="i18n-class",m="i18n-img",p="i18n-content",d="i18n-placeholder",h=/\$\{locale}/g,y=function(){};t.DI18n=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.locale=e.locale||"en",n.messages=e.messages||{},n.isReplace=e.isReplace||!1,n.currMessage=n.messages[n.locale],n.doms={},n.isReplace&&(n.getDoms(),n.fresh()),n}return a(t,e),l(t,[{key:"getDoms",value:function(){this.doms={classDoms:document.querySelectorAll("["+f+"]"),imgDoms:document.querySelectorAll("["+m+"]"),contentDoms:document.querySelectorAll("["+p+"]"),inputDoms:document.querySelectorAll("["+d+"]")}}},{key:"handlerClass",value:function(){this.doms.classDoms&&this.doms.classDoms.forEach(function(e,t){(0,u.addClass)(e,e.getAttribute(f))})}},{key:"handlerImg",value:function(){var e=this;this.doms.imgDoms&&this.doms.imgDoms.forEach(function(t,n){var o=t.getAttribute(m).replace(h,e.locale);t.src=o})}},{key:"handlerContent",value:function(){var e=this;this.doms.contentDoms&&this.doms.contentDoms.forEach(function(t,n){var o=t.getAttribute(p);t.innerHTML=e.messages[e.locale][o]})}},{key:"handlerInput",value:function(){var e=this;this.doms.inputDoms&&this.doms.inputDoms.forEach(function(t,n){var o=t.getAttribute(d);t.setAttribute("placeholder",e.currMessage[o])})}},{key:"fresh",value:function(){this.handlerClass(),this.handlerImg(),this.handlerContent(),this.handlerInput()}},{key:"setLocale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;this.locale=e,this.fresh(),t()}},{key:"loadJs",value:function(e,t){var n=document.createElement("script");n.src=e,n.onload=n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||t&&t()},document.getElementsByTagName[head][0].appendChild(n)}},{key:"setMessages",value:function(e){this.messages=e}}]),t}(i.default)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(){function e(t){n(this,e),this.locale=t.locale||"zh",this.messages=t.messages||{}}return r(e,[{key:"$t",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=String(this.messages[this.locale][e]);n=1===n.length&&"object"===o(n[0])?n[0]:{},n&&n.hasOwnProperty||(n={});var a=/(%|)\{([0-9a-zA-Z_]+)\}/g;return s.replace(a,function(e,t,o,r){var a="";return"{"===s[r-1]&&"}"===s[r+e.length]?o:(a=n.hasOwnProperty(o)?n[o]:e,a?a:"")})}},{key:"$html",value:function(e){var t=this;e=String(e);var n=/\$\{locale\}|\$t\(['"]([\s\S]+?)['"]\)/g;return e.replace(n,function(e,n,o,r){return"${locale}"===e?t.locale:t.messages[t.locale][n]||n})}}]),e}();t.default=s},function(e,t){"use strict";function n(e,t){return new RegExp(t).test(e.className||"")}function o(e,t){var n=new RegExp(t);return n.test(e.className)||(e.className+=" "+t),e}function r(e,t){if(e&&1===e.nodeType){var n=new RegExp(t);return n.test(e.className||"")&&(e.className=e.className.replace(n,"")),e}}Object.defineProperty(t,"__esModule",{value:!0}),t.hasClass=n,t.addClass=o,t.removeClass=r}])});